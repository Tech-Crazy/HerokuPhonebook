{"version":3,"sources":["services/phoneservice.js","components/notification.js","App.js","index.js"],"names":["baseURL","phoneservice","axios","get","then","response","data","newcontact","post","id","delete","concat","AddedMessage","_ref","message","react_default","a","createElement","className","App","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNumber","_useState5","_useState6","filter","setFilter","_useState7","_useState8","persons","setPersons","_useState9","_useState10","addedMessage","setAddedMessage","useEffect","phoneall","notification","value","onChange","event","target","onSubmit","preventDefault","map","person","name","join","includes","alert","number","newphone","setTimeout","type","toLowerCase","index","onClick","window","confirm","console","log","newpersons","element","JSON","stringify","catch","error","deletePerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c5a1e301.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseURL).then(response => response.data)\r\n}\r\n\r\nconst create = newcontact => {\r\n    return axios.post(baseURL, newcontact).then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(`${baseURL}/${id}`).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newcontact) => {\r\n    return axios.put(`${baseURL}/${id}`, newcontact).then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst AddedMessage = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className = \"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddedMessage","import React, { useState, useEffect } from 'react'\r\nimport phoneservice from './services/phoneservice'\r\nimport AddedMessage from './components/notification'\r\n\r\nconst App = () => {\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n\r\n  const [newNumber, setNumber] = useState('')\r\n\r\n  const [filter, setFilter] = useState('')\r\n\r\n  const [ persons, setPersons] = useState([])\r\n\r\n  const [addedMessage, setAddedMessage] = useState(null)\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      phoneservice.remove(person.id)\r\n      .then(message => {\r\n        console.log(`${person.name} deleted with message: `, message)\r\n        const newpersons = persons.filter(element => JSON.stringify(element) !== JSON.stringify(person))\r\n        setPersons(newpersons)\r\n        setNumber('')\r\n        setFilter('')\r\n      })\r\n      .catch(error => console.log(error))\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    phoneservice.getAll()\r\n    .then(phoneall => setPersons(phoneall))\r\n  }, [])\r\n\r\n  const namesToShow = () => persons.filter(person => person.name.toLowerCase()\r\n                            .includes(filter.toLowerCase()))\r\n                            .map((person, index) => <p id = {index}>{person.name} {person.number} <button onClick = {() => deletePerson(person)}>delete</button></p>)\r\n  \r\n  const addNewName = (event) => {\r\n      event.preventDefault()\r\n      const names = persons.map(person => person.name)\r\n      const jointNames = names.join(\" \")\r\n      if (jointNames.includes(newName)) {\r\n          alert(`${newName} was found in the phonebook`)\r\n      }\r\n      else {\r\n          const newPerson = {\r\n              name: newName,\r\n              number: newNumber\r\n          }\r\n          phoneservice.create(newPerson)\r\n          .then(newphone => {\r\n            setPersons(persons.concat(newphone))\r\n            setNumber('')\r\n            setNewName('')\r\n            setAddedMessage(`Added ${newphone.name}`)\r\n            setTimeout(() => setAddedMessage(null), 2000)\r\n          })\r\n      }\r\n  }\r\n\r\n  const handleNewName = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n  const handleNewNumber = (event) => {\r\n      setNumber(event.target.value)\r\n  }\r\n  const handleFilter = (event) => {\r\n      setFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <AddedMessage message = {addedMessage} />\r\n      <div>\r\n        filter shown with: <input value = {filter} onChange = {handleFilter} />\r\n      </div>\r\n      <form onSubmit = {addNewName}>\r\n        <h2>Add a new</h2>\r\n        <div>\r\n          name: <input value = {newName} onChange = {handleNewName} />\r\n        </div>\r\n        <div>\r\n            phone: <input value = {newNumber} onChange = {handleNewNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      <div>\r\n          {namesToShow()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}